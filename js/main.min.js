"use strict";document.getElementById("info").selectedIndex=Number(localStorage.getItem("info")),document.getElementById("format").selectedIndex=Number(localStorage.getItem("format")),document.getElementById("list").innerHTML=localStorage.getItem("list")??"Your List";const CAL=new Calendar("25.2.4"),SON=new Season;function list(){const e=document.getElementById("list");e.innerHTML="Full List"===e.innerHTML?"Your List":"Full List",localStorage.setItem("list",e.innerHTML),document.getElementById("calendar")?"visible"===CAL.left.style.visibility?CAL.init():CAL.init(-7):(document.getElementById("season").remove(),SON.init())}window.onload=()=>{CAL.init().then(()=>{const e=Object.keys({...CAL.store,...CAL.past});new Search(e.map(e=>e in CAL.store?[e,CAL.store[e].title]:[e,CAL.past[e].title]))}),new Streams},window.matchMedia("(min-width: 1200px)").onchange=()=>{document.querySelectorAll(".date").forEach(e=>{[e.innerHTML,e.title]=[e.title,e.innerHTML]})},document.onkeydown=e=>{if("search"!==e.target.id&&!e.ctrlKey&&!e.altKey){switch(e.key){case"c":CAL.clear();break;case"f":document.getElementById("format").focus();break;case"i":document.getElementById("info").focus();break;case"l":list();break;case"m":{const e=document.getElementById("calendar");e?e.focus():document.getElementById("season").focus();break}case"n":CAL.Right();break;case"p":CAL.Left();break;case"s":document.getElementById("search").focus(),e.preventDefault();break;case"Escape":case"Enter":e.target.blur()}if(document.getElementById("show")){switch(e.key){case"a":CAL.setter();break;case"n":case"p":CAL.arrow();break;case"r":CAL.Reset();break;case"w":{const e={};document.querySelectorAll(".stream").forEach(t=>{e[t.innerText.substring(1)]=t.href});const t=JSON.parse(localStorage.getItem("streams")).find(t=>t[1]&&t[0]in e);if(t)window.open(e[t[0]]),CAL.Stream();else{const e=document.querySelector(".stream-box");e.style.backgroundColor="darkred",setTimeout(()=>{e.style.backgroundColor="black"},50)}break}case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":CAL.link(""+(Number(e.key)-1))}e.stopImmediatePropagation()}}};
